# Чат-Калькулятор Упаковки из Китая

## Описание

Веб-приложение "Чат-Калькулятор Упаковки" предназначено для получения примерного расчета стоимости заказа различных видов упаковки (коробки, пакеты, тишью и т.д.) из Китая. Пользователь описывает свой заказ в чате одним сообщением, а приложение, используя AI-модель Gemini через прокси-сервер, извлекает параметры, рассчитывает ориентировочную стоимость и предоставляет ее в виде диапазона.

Приложение также поддерживает получение обратной связи от пользователя по ценам для "дообучения" инструкций, которые используются для генерации оценок (фактическое обновление базы знаний Google Таблицы подразумевается вручную пользователем).

## Ключевые возможности

-   **Чат-интерфейс:** Взаимодействие с пользователем происходит в формате чата.
-   **Парсинг естественного языка:** Пользователь описывает заказ в свободной форме. AI извлекает ключевые параметры.
-   **Расчет нескольких вариантов:** Если в запросе указаны варианты (например, разные тиражи), рассчитывается каждый.
-   **Оценка стоимости:** Предоставление примерной стоимости заказа в юанях (¥) в виде диапазона (±15% от наиболее вероятной цены).
-   **Обратная связь по ценам:** Пользователь может предоставить корректные цены после расчета, которые система принимает к сведению (с напоминанием обновить основную базу знаний).
-   **Работа через прокси:** Все запросы к Gemini API направляются через конфигурируемый серверный прокси, что обеспечивает безопасность API-ключа.

## Пример пользовательского сценария

1.  **Пользователь открывает приложение и видит приветственное сообщение.**
2.  **Пользователь вводит описание заказа.**
3.  **Бот анализирует запрос и уточняет детали для каждого варианта.**
4.  **Пользователь подтверждает.**
5.  **Бот рассчитывает и выводит стоимость для каждого варианта.**
6.  **Бот предлагает дать обратную связь или сделать новый расчет.**

## Структура проекта

```
/
├── public/
│   └── (статические ассеты, если появятся, сейчас пусто)
├── src/
│   ├── components/
│   │   ├── icons/             # SVG иконки как React компоненты
│   │   ├── ChatInput.tsx      # Компонент поля ввода сообщения
│   │   ├── ChatMessage.tsx    # Компонент для отображения одного сообщения
│   │   ├── ChatWindow.tsx     # Основное окно чата
│   │   ├── ErrorMessage.tsx   # Компонент для отображения ошибок
│   │   ├── LoadingSpinner.tsx # Компонент индикатора загрузки
│   ├── services/
│   │   └── geminiService.ts   # Логика взаимодействия с прокси Gemini API
│   ├── App.tsx                # Главный компонент приложения
│   ├── constants.ts           # Константы (enum-массивы, промпты для AI)
│   ├── index.tsx              # Точка входа React-приложения
│   └── types.ts               # TypeScript типы и интерфейсы
├── .gitignore
├── index.html                 # Главный HTML файл
├── metadata.json              # Метаданные приложения
└── README.md                  # Этот файл
```

## Конфигурация API про